<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UPP: LFMFLD_GFS.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">UPP<span id="projectnumber">&#160;(upp-srw-2.2.0)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('LFMFLD__GFS_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">LFMFLD_GFS.f File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="LFMFLD__GFS_8f.html#ad07f5dfa1bc77e931bc835a4b9bba248" title="LFMFLD_GFS() computes layer mean LFM fields.">lfmfld_gfs()</a> computes layer mean LFM fields.  
<a href="#details">More...</a></p>

<p><a href="LFMFLD__GFS_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ad07f5dfa1bc77e931bc835a4b9bba248" id="r_ad07f5dfa1bc77e931bc835a4b9bba248"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LFMFLD__GFS_8f.html#ad07f5dfa1bc77e931bc835a4b9bba248">lfmfld_gfs</a> (rh4410, rh7294, rh4472, rh3310)</td></tr>
<tr class="memdesc:ad07f5dfa1bc77e931bc835a4b9bba248"><td class="mdescLeft">&#160;</td><td class="mdescRight">LFMFLD_GFS() computes layer mean LFM fields.  <br /></td></tr>
<tr class="separator:ad07f5dfa1bc77e931bc835a4b9bba248"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="LFMFLD__GFS_8f.html#ad07f5dfa1bc77e931bc835a4b9bba248" title="LFMFLD_GFS() computes layer mean LFM fields.">lfmfld_gfs()</a> computes layer mean LFM fields. </p>
<p>This routine computes three layer mean relative humidities and a precipitable water field from ETA level data. The computed fields are intended to mimic similar fields com- puted by the LFM. The algorithm used here is fairly pri- mative. </p><pre>
 In each column above a mass point on the ETA grid we set the following target pressures:
     Sigma layer 1.00 pressure:  Surface pressure
     Sigma layer 0.66 pressure:  0.50 * Surface pressure
     Sigma layer 0.33 pressure:  0.4356 * Surface pressure
 </pre><p> Given there pressures a surface up summation is made of relative humidity and/or precipitable water between these target pressures. Each term in the summation is weighted By the thickness of the ETA layer. The final layer mean is this sum normalized by the total depth of the layer. There is, obviously, no normalization for precipitable water.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">RH3310</td><td>Sigma layer 0.33-1.00 mean relative humidity. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">RH4410</td><td>Sigma layer 0.44-1.00 mean relative humidity. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">RH7294</td><td>Sigma layer 0.72-0.94 mean relative humidity. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">RH4472</td><td>Sigma layer 0.44-0.72 mean relative humidity.</td></tr>
  </table>
  </dd>
</dl>
<h3><a class="anchor" id="autotoc_md62"></a>
Program History Log</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1992-12-22   </td><td class="markdownTableBodyNone">Russ Treadon   </td><td class="markdownTableBodyNone">Initial    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1993-07-27   </td><td class="markdownTableBodyNone">Russ Treadon   </td><td class="markdownTableBodyNone">Modified summation limits from 0.66*PSFC to 0.75*PSFC and 0.33*PSFC to 0.50*PSFC, where PSFC is the surfaces pressure. The reason for this change was recognition that in the LFM 0.33 and 0.66 were measured from the surface to the tropopause not the top of the model.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1993-09-13   </td><td class="markdownTableBodyNone">Russ Treadon   </td><td class="markdownTableBodyNone">RH calculations were made internal to the routine.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1996-03-04   </td><td class="markdownTableBodyNone">Mike Baldwin   </td><td class="markdownTableBodyNone">Change PW CALC to include CLD WTR    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1998-06-16   </td><td class="markdownTableBodyNone">T Black   </td><td class="markdownTableBodyNone">Conversion from 1-D to 2-D    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1998-08-17   </td><td class="markdownTableBodyNone">Mike Baldwin   </td><td class="markdownTableBodyNone">Compute RH over ice    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1998-12-22   </td><td class="markdownTableBodyNone">Mike Baldwin   </td><td class="markdownTableBodyNone">Back out RH over ice    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2000-01-04   </td><td class="markdownTableBodyNone">Jim Tuccillo   </td><td class="markdownTableBodyNone">MPI Version    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2002-04-24   </td><td class="markdownTableBodyNone">Mike Baldwin   </td><td class="markdownTableBodyNone">WRF Version    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2006-11-06   </td><td class="markdownTableBodyNone">H CHUANG   </td><td class="markdownTableBodyNone">Modify to output GFS LFM fields which have different thickness as MESO and use DP rather than DZ    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2019-10-30   </td><td class="markdownTableBodyNone">Bo Cui   </td><td class="markdownTableBodyNone">Remove "GOTO" statement    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2020-11-10   </td><td class="markdownTableBodyNone">Jesse Meng   </td><td class="markdownTableBodyNone">Use UPP_PHYSICS Module    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2021-10-14   </td><td class="markdownTableBodyNone">JESSE MENG   </td><td class="markdownTableBodyNone">2D DECOMPOSITION   </td></tr>
</table>
<dl class="section author"><dt>Author</dt><dd>Russ Treadon W/NP2 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1992-12-22 </dd></dl>

<p class="definition">Definition in file <a class="el" href="LFMFLD__GFS_8f_source.html">LFMFLD_GFS.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="ad07f5dfa1bc77e931bc835a4b9bba248" name="ad07f5dfa1bc77e931bc835a4b9bba248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad07f5dfa1bc77e931bc835a4b9bba248">&#9670;&#160;</a></span>lfmfld_gfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine lfmfld_gfs </td>
          <td>(</td>
          <td class="paramtype">real, dimension(ista:iend,jsta:jend), intent(out)&#160;</td>
          <td class="paramname"><em>rh4410</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ista:iend,jsta:jend), intent(out)&#160;</td>
          <td class="paramname"><em>rh7294</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ista:iend,jsta:jend), intent(out)&#160;</td>
          <td class="paramname"><em>rh4472</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ista:iend,jsta:jend), intent(out)&#160;</td>
          <td class="paramname"><em>rh3310</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LFMFLD_GFS() computes layer mean LFM fields. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">RH3310</td><td>Sigma layer 0.33-1.00 mean relative humidity. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">RH4410</td><td>Sigma layer 0.44-1.00 mean relative humidity. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">RH7294</td><td>Sigma layer 0.72-0.94 mean relative humidity. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">RH4472</td><td>Sigma layer 0.44-0.72 mean relative humidity. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="LFMFLD__GFS_8f_source.html#l00054">54</a> of file <a class="el" href="LFMFLD__GFS_8f_source.html">LFMFLD_GFS.f</a>.</p>

<p class="reference">Referenced by <a class="el" href="MISCLN_8f_source.html#l00058">miscln()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="LFMFLD__GFS_8f.html">LFMFLD_GFS.f</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
