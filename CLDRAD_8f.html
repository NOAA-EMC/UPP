<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>UPP: CLDRAD.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">UPP
   &#160;<span id="projectnumber">11.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('CLDRAD_8f.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">CLDRAD.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Subroutine that post SNDING/CLOUD/RADTN fields.  
<a href="#details">More...</a></p>

<p><a href="CLDRAD_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:aba0b3021fb1440b6ed121efdd97c8fd1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CLDRAD_8f.html#aba0b3021fb1440b6ed121efdd97c8fd1">cb_cover</a> (cbcov)</td></tr>
<tr class="separator:aba0b3021fb1440b6ed121efdd97c8fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ea14cc0ffdd5ea0588c881bd387a70"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02ea14cc0ffdd5ea0588c881bd387a70"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>cldrad</b></td></tr>
<tr class="separator:a02ea14cc0ffdd5ea0588c881bd387a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add1d79f909da9aac577a8f9fbf73d5d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add1d79f909da9aac577a8f9fbf73d5d5"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>wrt_aero_diag</b> (igetfld, nbin, data)</td></tr>
<tr class="separator:add1d79f909da9aac577a8f9fbf73d5d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Subroutine that post SNDING/CLOUD/RADTN fields. </p>
<p>This routine computes/posts sounding cloud related, and radiation fields. Under the heading of sounding fields fall the three ETA model lifted indices, CAPE, CIN, and total column precipitable water.</p>
<p>The three ETA model lifted indices differ only in the definition of the parcel to lift. One lifts parcels from the lowest above ground ETA layer. Another lifts mean parcels from any of NBND boundary layers (See subroutine BNDLYR). The final type of lifted index is a best lifted inden based on the NBND bouddary layer lifted indices.</p>
<p>Two types of CAPE/CIN are available. One is based on parcels in the lowest ETA layer above ground. The other is based on a layer mean parcel in the N-th boundary layer above the ground. See subroutine CALCAPE for details.</p>
<p>The cloud fraction and liquid cloud water fields are directly from the model with minimal post processing. The liquid cloud water, 3-D cloud fraction, and temperature tendencies due to precipotation are not posted in this routine. See sunroutine ETAFLD for these fields. Lifting condensation level height and pressure are computed and posted in subroutine MISCLN.</p>
<p>The radiation fields posted by this routine are those computed directly in the model.</p>
<h3>Program history log:</h3>
<table class="doxtable">
<tr>
<th>Date </th><th>Programmer </th><th>Comments  </th></tr>
<tr>
<td>1993-08-30 </td><td>Russ Treadon </td><td>Initial </td></tr>
<tr>
<td>1994-08-04 </td><td>Mike Baldwin </td><td>Added output of instantaneous SFC fluxes of net SW and LW down radiation </td></tr>
<tr>
<td>1997-04-25 </td><td>Mike Baldwin </td><td>Fix PDS for precipitable water </td></tr>
<tr>
<td>1997-04-29 </td><td>Geoff Manikin </td><td>Moved cloud top temps calculation to this subroutine. Changed method of determining where cloud base and top are found and added height option for top and base </td></tr>
<tr>
<td>1998-04-29 </td><td>Geoff Manikin </td><td>Changed value for cloud base/top pressures and heights from SPVAL to -500 </td></tr>
<tr>
<td>1998-06-15 </td><td>T Black </td><td>Conversion from 1-D to 2-D </td></tr>
<tr>
<td>1998-07-17 </td><td>Mike Baldwin </td><td>Removed LABL84 </td></tr>
<tr>
<td>2000-01-04 </td><td>Jim Tuccillo </td><td>MPI Version </td></tr>
<tr>
<td>2000-02-22 </td><td>Geoff Manikin </td><td>Changed value for cloud base/top pressures and heights from SPVAL to -500 (was not in previous IBM version) </td></tr>
<tr>
<td>2001-10-22 </td><td>H Chuang </td><td>Modified to process hybrid model output </td></tr>
<tr>
<td>2002-01-15 </td><td>Mike Baldwin </td><td>WRF version </td></tr>
<tr>
<td>2005-01-06 </td><td>H Chuang </td><td>Add various cloud fields </td></tr>
<tr>
<td>2005-07-07 </td><td>Binbin Zhou </td><td>Add RSM model </td></tr>
<tr>
<td>2005-08-30 </td><td>Binbin Zhou </td><td>Add ceiling and flight condition restriction </td></tr>
<tr>
<td>2010-09-09 </td><td>Geoff Manikin </td><td>Revised call to CALCAPE </td></tr>
<tr>
<td>2011-02-06 </td><td>Jun Wang </td><td>Add GRIB2 Option </td></tr>
<tr>
<td>2011-12-14 </td><td>Sarah Lu </td><td>Add Aerosol optical properties </td></tr>
<tr>
<td>2011-12-16 </td><td>Sarah Lu </td><td>Add Aerosol 2D DIAG fields </td></tr>
<tr>
<td>2011-12-23 </td><td>Sarah Lu </td><td>Consolidate all GOCART fields to BLOCK 4 </td></tr>
<tr>
<td>2011-12-23 </td><td>Sarah Lu </td><td>Add AOD at additional channels </td></tr>
<tr>
<td>2012-04-03 </td><td>Jun Wang </td><td>Add lftx and GFS convective cloud cover for grib2 </td></tr>
<tr>
<td>2013-05-06 </td><td>Shrinivas Moorthi </td><td>Add cloud condensate to total precip water </td></tr>
<tr>
<td>2013-12-23 </td><td>Lu/Wang </td><td>Read aerosol optical properties LUTS to compute dust aod, non-dust aod, and use geos5 gocart LUTS </td></tr>
<tr>
<td>2015-??-?? </td><td>S. Moorthi </td><td>threading, optimization, local dimension </td></tr>
<tr>
<td>2019-07-24 </td><td>Li(Kate) Zhang </td><td>Merge and update ARAH Lu's work from NGAC into FV3-Chem </td></tr>
<tr>
<td>2019-10-30 </td><td>Bo Cui </td><td>Remove "GOTO" statement </td></tr>
<tr>
<td>2020-03-25 </td><td>Jesse Meng </td><td>Remove grib1 </td></tr>
<tr>
<td>2020-05-20 </td><td>Jesse Meng </td><td>CALRH unification with NAM scheme </td></tr>
<tr>
<td>2020-11-10 </td><td>Jesse Meng </td><td>Use UPP_PHYSICS Module </td></tr>
<tr>
<td>2021-02-08 </td><td>Anning Cheng </td><td>read aod550, aod550_du/su/ss/oc/bc directly from fv3gfs and output to grib2 by setting rdaod </td></tr>
<tr>
<td>2021-04-01 </td><td>Jesse Meng </td><td>Computation on defined points only </td></tr>
<tr>
<td>2022-09-22 </td><td>Li(Kate Zhang) </td><td>Remove duplicated GOCART output variables and add capbility for NASA GOCART (UFS-Aerosols). </td></tr>
<tr>
<td>2022-09-22 </td><td>Li(Kate Zhang) </td><td>Update look-up table for NASA GOCART (UFS-Aerosols). </td></tr>
<tr>
<td>2022-10-20 </td><td>Li(Kate Zhang) </td><td>Add nitrate look-up table and nitrate AOD for NASA GOCART (UFS-Aerosols). </td></tr>
<tr>
<td>2022-11-16 </td><td>Eric James </td><td>Adding total column dust, biomass burning emissions, hourly wildfire potential from RRFS </td></tr>
<tr>
<td>2022-1207 </td><td>Wen Meng </td><td>Add AOD for AQM </td></tr>
<tr>
<td>2022-12-15 </td><td>Eric James </td><td>Modifying GSL exp2 ceiling diagnostic from HRRR, to correct a low bias in cloud cover </td></tr>
<tr>
<td>2023-02-02 </td><td>Wen Meng </td><td>Remove GSL specified clear-sky upward/downward SW </td></tr>
<tr>
<td>2023-02-10 </td><td>Eric James </td><td>Removing neighbourhood check from GSL exp2 ceiling diagnostic </td></tr>
<tr>
<td>2023-02-23 </td><td>Eric James </td><td>Adding coarse PM from RRFS, and using AOD from FV3 for RRFS </td></tr>
<tr>
<td>2023-04-04 </td><td>Li(Kate Zhang) </td><td>Add namelist optoin for CCPP-Chem (UFS-Chem) model. </td></tr>
<tr>
<td>2023-04-17 </td><td>Eric James </td><td>Getting rid of special treatment for RRFS AOD (use RAP/HRRR approach) </td></tr>
</table>
<dl class="section author"><dt>Author</dt><dd>Russ Treadon W/NP2 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1993-08-30 </dd></dl>

<p>Definition in file <a class="el" href="CLDRAD_8f_source.html">CLDRAD.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a class="anchor" id="aba0b3021fb1440b6ed121efdd97c8fd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cb_cover </td>
          <td>(</td>
          <td class="paramtype">real, dimension(ista:iend,jsta:jend), intent(inout)&#160;</td>
          <td class="paramname"><em>cbcov</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">cbcov</td><td>Calculate CB coverage by using fuzzy logic Evaluate membership of val in a fuzzy set fuzzy. Assume f is in x-log scale </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CLDRAD_8f_source.html#l05779">5779</a> of file <a class="el" href="CLDRAD_8f_source.html">CLDRAD.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d8b772108138bf796aaa3f7fe4e09294.html">sorc</a></li><li class="navelem"><a class="el" href="dir_29f0049402def9fd0d109199f2d306c2.html">ncep_post.fd</a></li><li class="navelem"><a class="el" href="CLDRAD_8f.html">CLDRAD.f</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
